# Minisforum MS01

The Minisforum MS01 is an inexpensive compact mini PC with fast ethernet, suitable for running a local storage and control cluster.

## BIOS Settings

- Enter BIOS setup by pressing `DEL` during boot.
- Advanced:
   - Trusted Computing: `Disabled` (FIXME - we might want this)
   - Onboard Devices:
     - Primary Display: `IGFX`
   - ACPI:
     - Restore on AC Power Loss: `Always On`
   - Network Stack Configuration
     - Network Stack: `Enabled`
     - IPv4 PXE Support: `Enabled`
- Boot tab:
   - Set `Boot Option 2` to `UEFI PXE IPv4 I226-V`
   - Set `Boot Option 3` to the internal SSD
   - Set `Secure Boot` to `Disabled`
- Security tab:
   - Set `Secure Boot` to `Disabled` (FIXME - we want secure boot)

## Remote Management

For Intel AMT (soft KVM over IP), you will need:
- if you want access to BIOS:
  - an HDMI dummy EDID plug, or
  - a regular KVM that supplies continuous EDID (TODO recommended model)
- a kernel param is supplied to set 1024x768 at boot, but that doesn't help with BIOS access


For external KVM over IP:
- boot with the computer selected in the KVM, or
- a KVM that supplies continuous EDID (TODO recommended model), or
- wait until OS boots

Configure Intel AMT by going into the BIOS and selecting MEBx:

- Default password is `admin`
- Change the password

Then you will have access to the following settings, change as follows:

- Intel AMT: `Enabled`
- Intel ME Configuration:
  - Redirection Features: all `Enabled`
  - User Consent:
    - User Opt-in: `None`
    - Opt-in configurable from remote: `Disabled`
  - Password policy: `Anytime`
  - Network Access State: `Network Active`
  - Network Setup:
    - Intel ME Network Name Settings 
      - Host Name: `s1a` (or `s2a`, etc.)
      - Shared / Dedicated FQDN: `Shared` (TODO - ?)
    - TCP/IP Settings / Wired LAN IPv4:
      - DHCP: `Disabled`
      - IP: `10.10.10.11` (or `12`, etc.)
      - Subnet: `255.255.255.0`

### SOL

Console redirection (SOL) is available via `amtterm` (with SSL support - install by Ansible) or MeshCommander.

It appears that you have to connect with MeshCommander first to enable SOL, then you can use `amtterm`:

```sh
amtterm -A -N -u admin 10.10.10.11
```
