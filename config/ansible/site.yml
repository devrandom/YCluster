---
# Core Infrastructure - Foundation services and cluster coordination
- import_playbook: install-etcd.yml

# Admin Services - Cluster management and coordination
- import_playbook: setup-admin-services.yml

# Network Services - Gateway, proxy and external connectivity
- import_playbook: setup-gateway-vip.yml
- import_playbook: configure-ntp.yml
- import_playbook: configure-proxy.yml

# Application Services - TLS and external connectivity
- import_playbook: install-tls-config.yml
- import_playbook: install-rathole.yml

# Storage Infrastructure - Ceph setup and configuration (order critical)
#- import_playbook: add-ceph-nodes.yml
- import_playbook: setup-ceph-disk.yml
- import_playbook: create-ceph-pool.yml
- import_playbook: storage-setup.yml

# Database Services - RBD setup must precede service installation
- import_playbook: setup-postgres-rbd.yml
- import_playbook: setup-qdrant-rbd.yml
- import_playbook: install-postgres.yml
- import_playbook: install-qdrant.yml

# Leader Election - Must come last to manage above database services
- import_playbook: install-storage-leader-election.yml
