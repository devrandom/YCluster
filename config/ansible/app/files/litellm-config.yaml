# LiteLLM Inference Gateway Configuration (static settings)
#
# Model list is managed separately at /rbd/misc/litellm/models.yaml
# and included below. Edit models there, then run:
#   ycluster inference reload
#
# This file is Ansible-managed. Changes here require re-running the playbook.

include:
  - /data/litellm/models.yaml

router_settings:
  routing_strategy: simple-shuffle
  num_retries: 2
  timeout: 300
  allowed_fails: 3
  cooldown_time: 10

general_settings:
  master_key: os.environ/LITELLM_MASTER_KEY
  database_url: os.environ/DATABASE_URL
  # Custom auth validates sk- keys against Open-WebUI's api_key table.
  # The master key is always accepted by LiteLLM before reaching this hook.
  custom_auth: litellm_custom_auth.user_api_key_auth
  background_health_checks: true
  health_check_interval: 60

litellm_settings:
  # Silently drop unsupported params (e.g. llama.cpp extras sent to vLLM)
  drop_params: true
