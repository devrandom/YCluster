# Squid configuration for controlled internet access
# Listen on port 3128
http_port 10.0.0.1:3128

# Cache directory
cache_dir ufs /var/spool/squid 1000 16 256

# Access control lists
acl localnet src 10.0.0.0/8

# Allow access to all sites for local network
http_access allow localnet
http_access deny all

# Cache settings for common file types
refresh_pattern -i \.deb$ 129600 100% 129600
refresh_pattern -i \.udeb$ 129600 100% 129600
refresh_pattern -i \.tar\.gz$ 129600 100% 129600
refresh_pattern -i \.tar\.xz$ 129600 100% 129600
refresh_pattern -i \.rpm$ 129600 100% 129600
refresh_pattern -i \.zip$ 129600 100% 129600

# Default refresh patterns
refresh_pattern ^ftp: 1440 20% 10080
refresh_pattern ^gopher: 1440 0% 1440
refresh_pattern -i (/cgi-bin/|\?) 0 0% 0
refresh_pattern . 0 20% 4320

# Enable caching for better performance
cache allow all

# Basic settings
coredump_dir /var/spool/squid
